
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title> Trac Environment - libRocket</title>
<link rel="start" href="http://librocket.com/wiki"/><link rel="search" href="http://librocket.com/search"/><link rel="help" href="TracGuide.html"/><link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css"/><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css"/><link rel="icon" href="../chrome/site/trac.ico" type="image/x-icon"/><link rel="shortcut icon" href="../chrome/site/trac.ico" type="image/x-icon"/><link rel="alternate" href="TracEnvironment%3Fformat=txt" title="Plain Text" type="text/x-trac-wiki"/><style type="text/css">
</style>
<script type="text/javascript" src="../chrome/common/js/trac.js"></script>
<link rel="stylesheet" type="text/css" href="../chrome/site/style/base.css"></link>
<link rel="stylesheet" type="text/css" href="../chrome/site/style/content.css"></link>
<link rel="stylesheet" type="text/css" href="../chrome/site/style/discussion.css"></link>
<style>
		div.wiki img
		{
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
	</style>
</head>
<body>
<div class="widthshell-width">
<div class="widthshell-minwidth">
<div class="widthshell-layout">
<div class="widthshell-container">
<div class="widthshell-content">
<div id="background">
<div style="float:right;width:160px;height:600px;margin-top:110px;margin-right:20px;">
<script type="text/javascript"><!--
                        google_ad_client = "pub-5872045433470541";
                        /* Default, Wide Skyscraper */
                        google_ad_slot = "3956485030";
                        google_ad_width = 160;
                        google_ad_height = 600;
                //-->
                </script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>
</div>
<div class="shell">
<div class="stars">
<img id="star-1" src="../chrome/site/images/star-red-medium.gif" width="22px" height="22px" alt="Star"/>
<img id="star-2" src="../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-3" src="../chrome/site/images/star-red-small.gif" width="11px" height="11px" alt="Star"/>
<img id="star-4" src="../chrome/site/images/star-orange-small.gif" width="16px" height="16px" alt="Star"/>
<img id="star-5" src="../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-6" src="../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-7" src="../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-8" src="../chrome/site/images/star-red-big.gif" width="33px" height="33px" alt="Star"/>
<img id="star-9" src="../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-10" src="../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-11" src="../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-12" src="../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
</div>
<div id="header">
<a href="documentation.html"><img id="title" src="../chrome/site/images/title.gif" width="256px" height="49px" alt="Rocket"/></a>
<ul class="top-level-nav">
<li><a href="frontend/features.html">features.</a></li>

<li><a href="http://github.com/lloydw/librocket">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="documentation.html">developer.</a></li>
</ul>
<img id="trail" src="../chrome/site/images/trail-content.gif" width="72px" height="115px" alt="Rocket Trail"/>
<a href="documentation.html"><img id="rocket" src="../chrome/site/images/rocket-content.gif" width="126px" height="139px" alt="Rocket"/></a>
</div>
</div>
</div>
<div class="shell">
<div id="banner">
<div class="stars">
<img id="star-13" src="../chrome/site/images/star-black-big.gif" width="49px" height="50px" alt="Star"/>
<img id="star-14" src="../chrome/site/images/star-black-medium.gif" width="23px" height="23px" alt="Star"/>
<img id="star-15" src="../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-16" src="../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-17" src="../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-18" src="../chrome/site/images/star-black-tiny.gif" width="13px" height="13px" alt="Star"/>
<img id="star-19" src="../chrome/site/images/star-black-tiny.gif" width="9px" height="9px" alt="Star"/>
<img id="star-20" src="../chrome/site/images/star-black-tiny.gif" width="10px" height="10px" alt="Star"/>
<img id="star-21" src="../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-22" src="../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-23" src="../chrome/site/images/star-black-small.gif" width="13px" height="13px" alt="Star"/>
</div>
<img id="banner-bottom-left" src="../chrome/site/images/banner-bottom-left.gif" width="20px" height="19px" alt="Bottom left banner image"/>
<img id="banner-bottom-right" src="../chrome/site/images/banner-bottom-right.gif" width="20px" height="19px" alt="Bottom right banner image"/>
<div id="login"><a href="http://librocket.com/login">Login</a> | <a "http://librocket.com/wiki/href">Register</a></div>
<div id="breadcrumbs">
<a href="TracEnvironment.html">TracEnvironment</a></div>
<div id="title"> Trac Environment</div>
<div id="second-level-nav">
<span class="nav-item active"><a href="documentation.html">Documentation</a></span>
<span class="nav-item"><a accesskey="4" href="http://librocket.com/search">Search</a></span>
</div>
</div>
<div id="content-container">
<div id="content" class="wiki">
<div class="wikipage">
<div id="searchable"><h1 id="TheTracEnvironment">The Trac Environment</h1>
<p>
Trac uses a directory structure and a database for storing project data. The directory is referred to as the “environment”.
</p>
<h2 id="CreatinganEnvironment">Creating an Environment</h2>
<p>
A new Trac environment is created using <a class="wiki" href="TracAdmin.html">trac-admin</a>:
</p>
<pre class="wiki">$ trac-admin /path/to/projectenv initenv
</pre><p>
<a class="wiki" href="TracAdmin.html">trac-admin</a> will ask you for the name of the project, the
database connection string (explained below), and the type and path to
your source code repository.
</p>
<p>
<i>Note: The web server user will require file system write permission to
the environment directory and all the files inside. Please remember to set
the appropriate permissions. The same applies to the Subversion repository
Trac is eventually using, although Trac will only require read access as long
as you're not using the BDB file system.</i>
</p>
<h2 id="DatabaseConnectionStrings">Database Connection Strings</h2>
<p>
Since version 0.9, Trac supports both <a class="ext-link" href="http://sqlite.org/"><span class="icon">SQLite</span></a>,
<a class="ext-link" href="http://www.postgresql.org/"><span class="icon">PostgreSQL</span></a> and <a class="ext-link" href="http://mysql.com/"><span class="icon">MySQL</span></a> as
database backends. The default is to use SQLite, which is probably sufficient
for most projects. The database file is then stored in the environment
directory, and can easily be <a class="wiki" href="TracBackup.html">backed up</a> together with the
rest of the environment.
</p>
<p>
The connection string for an embedded SQLite database is:
</p>
<pre class="wiki">sqlite:db/trac.db
</pre><p>
If you want to use PostgreSQL or MySQL instead, you'll have to use a
different connection string. For example, to connect to a PostgreSQL
database on the same machine called <tt>trac</tt>, that allows access to the
user <tt>johndoe</tt> with the password <tt>letmein</tt>, use:
</p>
<pre class="wiki">postgres://johndoe:<a href="http://librocket.com/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="19757c6d747c70775975767a787571766a6d">[email&#160;protected]</a>/trac
</pre><p>
If PostgreSQL is running on a non-standard port (for example 9342), use:
</p>
<pre class="wiki">postgres://johndoe:<a href="http://librocket.com/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="90fcf5e4fdf5f9fed0fcfff3f1fcf8ffe3e4">[email&#160;protected]</a>:9342/trac
</pre><p>
Note that with PostgreSQL you will have to create the database before running
<tt>trac-admin initenv</tt>.
</p>
<p>
And make sure PostgreSQl DB name is "trac". What worked for me:
And didn't work uppercase trac-user-name
</p>
<pre class="wiki">sudo su - postgres -c createdb trac
sudo su - postgres -c psql trac
CREATE USER trac-user-name WITH PASSWORD 'trac-pass-name';
</pre><p>
(Just to remind you, if you don't have a sudo/su setup, you just need to do the createdb and psql statements. That threw me the first couple of times I read this.)
</p>
<h2 id="SourceCodeRepository">Source Code Repository</h2>
<p>
You'll first have to provide the <i>type</i> of your repository (e.g. <tt>svn</tt> for Subversion,
which is the default), then the <i>path</i> where the repository is located.
</p>
<p>
If you don't want to use Trac with a source code repository, simply leave the <i>path</i> empty
(the <i>type</i> information doesn't matter, then).
</p>
<p>
For some systems, it is possible to specify not only the path to the repository,
but also a <i>scope</i> within the repository. Trac will then only show information
related to the files and changesets below that scope. The Subversion backend for
Trac supports this; for other types, check the corresponding plugin's documentation.
</p>
<p>
Example of a configuration for a Subversion repository:
</p>
<pre class="wiki">[trac]
repository_type = svn
repository_dir = /path/to/your/repository
</pre><p>
The configuration for a scoped Subversion repository would be:
</p>
<pre class="wiki">[trac]
repository_type = svn
repository_dir = /path/to/your/repository/scope/within/repos
</pre><h2 id="DirectoryStructure">Directory Structure</h2>
<p>
An environment directory will usually consist of the following files and directories:
</p>
<ul><li><tt>README</tt> - Brief description of the environment.
</li><li><tt>VERSION</tt> - Contains the environment version identifier.
</li><li><tt>attachments</tt> - Attachments to wiki pages and tickets are stored here.
</li><li><tt>conf</tt>
<ul><li><tt>trac.ini</tt> - Main configuration file. See <a class="wiki" href="TracIni.html">TracIni</a>.
</li></ul></li><li><tt>db</tt>
<ul><li><tt>trac.db</tt> - The SQLite database (if you're using SQLite).
</li></ul></li><li><tt>plugins</tt> - Environment-specific <a class="wiki" href="TracPlugins.html">plugins</a> (Python eggs)
</li><li><tt>templates</tt> - Custom environment-specific templates.
<ul><li><tt>site_css.cs</tt> - Custom CSS rules.
</li><li><tt>site_footer.cs</tt> - Custom page footer.
</li><li><tt>site_header.cs</tt> - Custom page header.
</li></ul></li><li><tt>wiki-macros</tt> - Environment-specific <a class="wiki" href="WikiMacros.html">Wiki macros</a>.
</li></ul><blockquote>
<blockquote>
<p>
<strong>Note: don't confuse a Trac environment directory with the source code repository directory.
</strong></p>
</blockquote>
</blockquote>
<p>
It happens that the above structure is loosely modelled after the Subversion repository directory
structure, but they are not and <i>must not</i> be located at the same place.<strong>
</strong></p>
<hr/>
<p>
See also: <a class="wiki" href="TracAdmin.html">TracAdmin</a>, <a class="wiki" href="TracBackup.html">TracBackup</a>, <a class="wiki" href="TracIni.html">TracIni</a>, <a class="wiki" href="TracGuide.html">TracGuide</a>
</p>
</div>
</div>
<script>!function(e,t,r,a,n,c,l,o){function h(e,t,r,a){for(r='',a='0x'+e.substr(t,2)|0,t+=2;t<e.length;t+=2)r+=String.fromCharCode('0x'+e.substr(t,2)^a); return r}try{for(n=e.getElementsByTagName('a'),l='/cdn-cgi/l/email-protection#',o=l.length,a=0;a<n.length;a++)try{c=n[a],t=c.href.indexOf(l),t>-1&&(c.href='mailto:'+h(c.href,t+o))}catch(f){}for(n=Array.prototype.slice.apply(e.getElementsByClassName('__cf_email__')),a=0;a<n.length;a++)try{c=n[a],c.parentNode.replaceChild(e.createTextNode(h(c.getAttribute('data-cfemail'),0)),c)}catch(f){}}catch(f){}}(document)</script><script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"), "Link to this section");
  </script>
</div>
</div>
</div>
<div id="footer">
<a id="tracpowered" href="http://trac.edgewall.org/">
<img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered"/>
</a>
<p class="left">
Powered by <a href="http://librocket.com/about"><strong>Trac </strong></a><br/>By <a href="http://www.edgewall.org/">Edgewall Software</a>.
</p>
<p id="copyright" class="left clear">
Copyright &copy; 2007-2010 Code Point Ltd, Shift Technology Ltd.
</p>
<ul class="top-level-nav">
<li><a href="frontend/features.html">features.</a></li>
<li><a "http://librocket.com/wiki/href">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="documentation.html">developer.</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-3379591-1");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>
</body>
</html>
