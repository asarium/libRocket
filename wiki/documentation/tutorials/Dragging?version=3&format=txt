= Drag Tutorial =

libRocket has a few ways of implementing dragging of elements, such as:
 * the <handle> tag, as used by the documents in the sample applications
 * setting an element's 'drag' property to 'drag' or 'drag-drop' and listening to the raw drag events ('dragstart', 'dragend', etc) and animating element positions manually
 * setting an element's 'drag' property to 'clone'

This tutorial shows how to use the third type, cloning, to implement dragging items between multiple inventory windows.

== Step 1: Taking a look ==

Compile the drag tutorial (at ''/samples/tutorials/drag/'') and run the program; it should end up looking like this:

< insert piccie >

Take a look at the source code. As you can see, the application creates two ''Inventory'' objects, each of which loads a document from the 'inventory.rml' file. The application then creates four inventory objects in one of the inventories; each of these objects is a libRocket element with a tag of 'icon'. At the bottom of the 'tutorial.rcss' file you can see the properties applied to 'icon'. It is sized to 100px x 100px with a margin to separate it from its neighbour icons and a decorator for its background image. It is floated left so icons will stack from left to right in the inventory windows.

== Step 2: Adding a drag property ==

If you try dragging the icons now, nothing much happens. In the tutorial's, RCSS file add the line:

{{{
	drag: clone;
}}}

to the rule for 'icon' elements. Now try dragging the icons again; success! A clone of the icons now follows the cursor when you drag them around. We'll need to add code to listen to the end of the drag and respond accordingly, but before we get to that I'll explain how the 'drag' property works.

The 'drag' property can take several different values depending on how you want libRocket to inform you about dragging. The possible values are:

 * ''none'': The element does not send any drag messages. This is the default.
 * ''block'': The element does not send any drag messages, and prevents any elements 'underneath' the element from being dragged as well. This is useful for buttons on a window's title bar, for example.
 * ''drag'': If the left mouse button is pressed while over the element and dragged, the element will trigger a 'dragstart' event. Every subsequent time the mouse is moved, the element will trigger a 'drag' event. When the button is released, the element will trigger a 'dragend' event.
 * ''dragdrop'': As ''drag'', but as the mouse moves over other elements 'dragover' and 'dragout' events will be triggered (similarly to the 'mouseover' and 'mouseout' events). When the button is released, the element the mouse is hovering over will trigger the 'dragdrop' message.
 * ''clone'': As ''dragdrop'', but a clone of the element is attached to the mouse cursor during dragging. The clone has the pseudo-class 'drag' set on it to allow it to be differentiated.

So both ''drag'' and ''dragdrop'' only send messages; they don't actually drag any elements anywhere automatically. Very useful for complicated dragging operations or dragging multiple elements.

The ''clone'' value, however, takes care of almost everything if all you need to do is drag single elements.

== Step 3: Listening to the events ==