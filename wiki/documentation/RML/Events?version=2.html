
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title> Events - libRocket</title>
<link rel="start" href="http://librocket.com/wiki"/><link rel="search" href="http://librocket.com/search"/><link rel="help" href="../../TracGuide.html"/><link rel="stylesheet" href="../../../chrome/common/css/trac.css" type="text/css"/><link rel="stylesheet" href="../../../chrome/common/css/wiki.css" type="text/css"/><link rel="icon" href="../../../chrome/site/trac.ico" type="image/x-icon"/><link rel="shortcut icon" href="../../../chrome/site/trac.ico" type="image/x-icon"/><link rel="alternate" href="Events%3Fversion=2&amp;format=txt" title="Plain Text" type="text/x-trac-wiki"/><style type="text/css">
</style>
<script type="text/javascript" src="../../../chrome/common/js/trac.js"></script>
<link rel="stylesheet" type="text/css" href="../../../chrome/site/style/base.css"></link>
<link rel="stylesheet" type="text/css" href="../../../chrome/site/style/content.css"></link>
<link rel="stylesheet" type="text/css" href="../../../chrome/site/style/discussion.css"></link>
<style>
		div.wiki img
		{
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
	</style>
</head>
<body>
<div class="widthshell-width">
<div class="widthshell-minwidth">
<div class="widthshell-layout">
<div class="widthshell-container">
<div class="widthshell-content">
<div id="background">
<div style="float:right;width:160px;height:600px;margin-top:110px;margin-right:20px;">
<script type="text/javascript"><!--
                        google_ad_client = "pub-5872045433470541";
                        /* Default, Wide Skyscraper */
                        google_ad_slot = "3956485030";
                        google_ad_width = 160;
                        google_ad_height = 600;
                //-->
                </script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>
</div>
<div class="shell">
<div class="stars">
<img id="star-1" src="../../../chrome/site/images/star-red-medium.gif" width="22px" height="22px" alt="Star"/>
<img id="star-2" src="../../../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-3" src="../../../chrome/site/images/star-red-small.gif" width="11px" height="11px" alt="Star"/>
<img id="star-4" src="../../../chrome/site/images/star-orange-small.gif" width="16px" height="16px" alt="Star"/>
<img id="star-5" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-6" src="../../../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-7" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-8" src="../../../chrome/site/images/star-red-big.gif" width="33px" height="33px" alt="Star"/>
<img id="star-9" src="../../../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-10" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-11" src="../../../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-12" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
</div>
<div id="header">
<a href="../../documentation.html"><img id="title" src="../../../chrome/site/images/title.gif" width="256px" height="49px" alt="Rocket"/></a>
<ul class="top-level-nav">
<li><a href="../../frontend/features.html">features.</a></li>

<li><a href="http://github.com/lloydw/librocket">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="../../documentation.html">developer.</a></li>
</ul>
<img id="trail" src="../../../chrome/site/images/trail-content.gif" width="72px" height="115px" alt="Rocket Trail"/>
<a href="../../documentation.html"><img id="rocket" src="../../../chrome/site/images/rocket-content.gif" width="126px" height="139px" alt="Rocket"/></a>
</div>
</div>
</div>
<div class="shell">
<div id="banner">
<div class="stars">
<img id="star-13" src="../../../chrome/site/images/star-black-big.gif" width="49px" height="50px" alt="Star"/>
<img id="star-14" src="../../../chrome/site/images/star-black-medium.gif" width="23px" height="23px" alt="Star"/>
<img id="star-15" src="../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-16" src="../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-17" src="../../../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-18" src="../../../chrome/site/images/star-black-tiny.gif" width="13px" height="13px" alt="Star"/>
<img id="star-19" src="../../../chrome/site/images/star-black-tiny.gif" width="9px" height="9px" alt="Star"/>
<img id="star-20" src="../../../chrome/site/images/star-black-tiny.gif" width="10px" height="10px" alt="Star"/>
<img id="star-21" src="../../../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-22" src="../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-23" src="../../../chrome/site/images/star-black-small.gif" width="13px" height="13px" alt="Star"/>
</div>
<img id="banner-bottom-left" src="../../../chrome/site/images/banner-bottom-left.gif" width="20px" height="19px" alt="Bottom left banner image"/>
<img id="banner-bottom-right" src="../../../chrome/site/images/banner-bottom-right.gif" width="20px" height="19px" alt="Bottom right banner image"/>
<div id="login"><a href="http://librocket.com/login">Login</a> | <a "http://librocket.com/wiki/documentation/RML/href">Register</a></div>
<div id="breadcrumbs">
<a href="../../documentation.html">documentation</a> <strong>&#8249;</strong> <a href="../RML.html">RML</a> <strong>&#8249;</strong> <a href="Events.html">Events</a></div>
<div id="title"> Events</div>
<div id="second-level-nav">
<span class="nav-item active"><a href="../../documentation.html">Documentation</a></span>
<span class="nav-item"><a accesskey="4" href="http://librocket.com/search">Search</a></span>
</div>
</div>
<div id="content-container">
<div id="content" class="wiki">
<table id="info" summary="Revision info"><tbody><tr>
<th scope="col">
Version 2 (modified by lloydw, 10 years ago)
</th></tr><tr>
<td class="message">--</td>
</tr>
</tbody></table>
<div class="wikipage">
<div id="searchable"><h1 id="RMLEvents">RML Events</h1>
<p>
The event system is based on the extremely flexible DOM event system.
</p>
<p>
When an event is fired at a target element, it <strong>bubbles</strong> up from the root to the target and then <strong>captures</strong> back down to root. Event listeners can be attached in either capture or bubble phase.
</p>
<p>
Binding done in RML will always attach to the <strong>bubble</strong> phase.
</p>
<h2 id="RMLbinding">RML binding</h2>
<p>
Event listeners can be bound to an element declared in RML by specifying an attribute with the name of the event to bind to prefixed with 'on'. For example, to bind a listener to the <i>click</i> event, you would declare something like the following:
</p>
<pre class="wiki">&lt;button onclick="load game"&gt;Start Game&lt;/button&gt;
</pre><p>
Note that this is the only time you prefix the event name with 'on'; all other times an event is referenced, it is done so simply with its name.
</p>
<h2 id="EventsinPython">Events in Python</h2>
<p>
When using the Python plugin, event listeners bound through RML execute Python code. The value of the event attribute will be executed when the event is triggered. Multiple lines of Python code can be put on one line, separated by a semicolon.
</p>
<pre class="wiki">&lt;div onclick="print 'hello'; print 'goodbye'"&gt;
</pre><p>
To bind dynamically to an event in Python, the syntax is similar to Javascript:
</p>
<pre class="wiki">element = document.GetElementById('x')
element.AddEventListener('click', 'PythonCallback', False)
</pre><p>
Whenever an event is dispatched a there are 3 variables that are globally accessible to the called function:
</p>
<ul><li><strong>event:</strong> The event object.
</li><li><strong>self:</strong> The element the event is being called on.
</li><li><strong>document:</strong> The document this element resides in.
</li></ul><h2 id="Events">Events</h2>
<p>
Below is a list of events and their associated event attributes.
</p>
<p>
A number of input events send through key modifiers. In this case the following parameters are set to true if the key modifier is active when the action takes place:
</p>
<ul><li><i>ctrl_key</i>
</li><li><i>shift_key</i>
</li><li><i>meta_key</i>
</li><li><i>alt_key</i>
</li><li><i>caps_lock_key</i>
</li><li><i>num_lock_key</i>
</li><li><i>scroll_lock_key</i>
</li></ul><h3 id="General">General</h3>
<dl><dt><strong>show</strong></dt><dd>
Sent to a document when it is made visible.
</dd><dt><strong>hide</strong></dt><dd>
Sent to a document when it is made invisible.
</dd><dt><strong>resize</strong></dt><dd>
Sent to an element when it resizes.
</dd><dt><strong>scroll</strong></dt><dd>
Sent to an element when it is scrolled.
</dd><dt><strong>focus</strong></dt><dd>
Sent to an element when it becomes the main focus.
</dd><dt><strong>blur</strong></dt><dd>
Sent to an element when it has focus removed.
</dd></dl>
<h3 id="KeyboardEvents">Keyboard Events</h3>
<dl><dt><strong>keydown</strong></dt><dd>
Sent to the focus element when a key is pressed.
<ul><li><i>key_identifier:</i> A value from the Rocket::Core::Input::KeyIdentifier enumeration (found in <i>Rocket/Core/Input.h</i>).
</li><li>Key modifiers.
</li></ul></dd><dt><strong>keyup</strong></dt><dd>
Sent to the focus element when a key is released.
<ul><li><i>key_identifier:</i> A value from the Rocket::Core::Input::KeyIdentifier enumeration.
</li><li>Key modifiers.
</li></ul></dd><dt><strong>textinput</strong></dt><dd>
Send to the focus element when a text character is entered.
<ul><li><i>data:</i> An EMP::Core::word corresponding to the character value.
</li></ul></dd></dl>
<h3 id="MouseEvents">Mouse Events</h3>
<p>
All mouse events send through key modifiers.
</p>
<dl><dt><strong>click</strong></dt><dd>
Sent to the element under the mouse cursor when a mouse button is clicked.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>button:</i> The button that was clicked.
</li></ul></dd><dt><strong>dblclick</strong></dt><dd>
Sent to the element under the mouse cursor when a mouse button is double clicked. Note that the <i>click</i> event will always be sent before <i>dblclick</i>.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>button:</i> The button that was clicked.
</li></ul></dd><dt><strong>mouseover</strong></dt><dd>
Sent to an element as the mouse cursor moves onto it.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li></ul></dd><dt><strong>mouseout</strong></dt><dd>
Sent to an element as the mouse cursor moves off it.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li></ul></dd><dt><strong>mousemove</strong></dt><dd>
Sent to the element under the mouse cursor when the mouse is moved.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li></ul></dd><dt><strong>mouseup</strong></dt><dd>
Sent to the element under the mouse cursor when a mouse button is released.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>button:</i> The button that was released.
</li></ul></dd><dt><strong>mousedown</strong></dt><dd>
Sent to the element under the mouse cursor when a mouse button is pressed down.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>button:</i> The button that was pressed.
</li></ul></dd><dt><strong>mousescroll</strong></dt><dd>
Sent to the focus element when the mouse's scroll wheel is scrolled.
<ul><li><i>wheel_delta:</i> An integer value representing how far the wheel has been scrolled.
</li></ul></dd></dl>
<h3 id="Dragging">Dragging</h3>
<p>
All mouse drag events send through key modifiers.
</p>
<dl><dt><strong>dragstart</strong></dt><dd>
Sent to an element when it is first dragged, before the first <i>drag</i> event.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd><dt><strong>dragend</strong></dt><dd>
Sent to the dragged element when the mouse button is released.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd><dt><strong>drag</strong></dt><dd>
Sent to the dragged element when the mouse is moved.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd></dl>
<p>
The following events are only sent if the dragged element has a <i>drag</i> property of <i>drag-drop</i>. They are sent to elements other than the dragged element, usually as the mouse moves across them.
</p>
<dl><dt><strong>dragover</strong></dt><dd>
Sent during a drag operation to an element when the mouse cursor is moved onto the element (similarly to the <i>mouseover</i> event).
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd><dt><strong>dragout</strong></dt><dd>
Sent during a drag operation to an element when the mouse cursor is moved off the element (similarly to the <i>mouseout</i> event).
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd><dt><strong>dragmove</strong></dt><dd>
Sent during a drag operation to the top-most element being hovered over (excluding the dragged element) when the mouse is moved.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd><dt><strong>dragdrop</strong></dt><dd>
Sent at the end of a drag operation to the element the cursor is hovering over.
<ul><li><i>mouse_x:</i> The mouse x position within the context.
</li><li><i>mouse_y:</i> The mouse y position within the context.
</li><li><i>drag_element:</i> The element that is being dragged.
</li></ul></dd></dl>
<h3 id="Forms">Forms</h3>
<dl><dt><strong>submit</strong></dt><dd>
Sent to the form when it is submitted.
<ul><li><i>parameters:</i> - The event object will have an attribute for each named value in the form.
</li></ul></dd></dl>
<h3 id="FormControls">Form Controls</h3>
<dl><dt><strong>change</strong></dt><dd>
Sent to a form control when its value is changed.
<ul><li><i>value:</i> The new value.
</li></ul></dd></dl>
<h3 id="Documents">Documents</h3>
<dl><dt><strong>load</strong></dt><dd>
Sent to a document when it is initially loaded.
</dd><dt><strong>unload</strong></dt><dd>
Sent to a document when it is unloaded.
</dd></dl>
<h3 id="Handle">Handle</h3>
<dl><dt><strong>handledrag</strong></dt><dd>
Sent to the handle when it is moved.
<ul><li><i>handle_x:</i> Handle x position.
</li><li><i>handle_y:</i> Handle y position.
</li></ul></dd></dl>
<h3 id="DataGrid">DataGrid</h3>
<dl><dt><strong>columnadd</strong></dt><dd>
Sent to the data grid when a column is added.
<ul><li><i>index:</i> Index of the column that was added.
</li></ul></dd><dt><strong>rowupdate</strong></dt><dd>
Sent to the data grid when any rows in the table are loaded.
</dd></dl>
<h3 id="TabSet">TabSet</h3>
<dl><dt><strong>tabchange</strong></dt><dd>
Sent to the tab set when the active tab is changed.
<ul><li><i>tab_index:</i> The new tab index.
</li></ul></dd></dl>
</div>
</div>
<script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"), "Link to this section");
  </script>
</div>
</div>
</div>
<div id="footer">
<a id="tracpowered" href="http://trac.edgewall.org/">
<img src="../../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered"/>
</a>
<p class="left">
Powered by <a href="http://librocket.com/about"><strong>Trac </strong></a><br/>By <a href="http://www.edgewall.org/">Edgewall Software</a>.
</p>
<p id="copyright" class="left clear">
Copyright &copy; 2007-2010 Code Point Ltd, Shift Technology Ltd.
</p>
<ul class="top-level-nav">
<li><a href="../../frontend/features.html">features.</a></li>
<li><a "http://librocket.com/wiki/documentation/RML/href">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="../../documentation.html">developer.</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-3379591-1");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>
</body>
</html>
