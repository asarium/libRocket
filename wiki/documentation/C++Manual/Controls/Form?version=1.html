
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title> Form - libRocket</title>
<link rel="start" href="http://librocket.com/wiki"/><link rel="search" href="http://librocket.com/search"/><link rel="help" href="../../../TracGuide.html"/><link rel="stylesheet" href="../../../../chrome/common/css/trac.css" type="text/css"/><link rel="stylesheet" href="../../../../chrome/common/css/wiki.css" type="text/css"/><link rel="icon" href="../../../../chrome/site/trac.ico" type="image/x-icon"/><link rel="shortcut icon" href="../../../../chrome/site/trac.ico" type="image/x-icon"/><link rel="alternate" href="Form%3Fversion=1&amp;format=txt" title="Plain Text" type="text/x-trac-wiki"/><style type="text/css">
</style>
<script type="text/javascript" src="../../../../chrome/common/js/trac.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../chrome/site/style/base.css"></link>
<link rel="stylesheet" type="text/css" href="../../../../chrome/site/style/content.css"></link>
<link rel="stylesheet" type="text/css" href="../../../../chrome/site/style/discussion.css"></link>
<style>
		div.wiki img
		{
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
	</style>
</head>
<body>
<div class="widthshell-width">
<div class="widthshell-minwidth">
<div class="widthshell-layout">
<div class="widthshell-container">
<div class="widthshell-content">
<div id="background">
<div style="float:right;width:160px;height:600px;margin-top:110px;margin-right:20px;">
<script type="text/javascript"><!--
                        google_ad_client = "pub-5872045433470541";
                        /* Default, Wide Skyscraper */
                        google_ad_slot = "3956485030";
                        google_ad_width = 160;
                        google_ad_height = 600;
                //-->
                </script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>
</div>
<div class="shell">
<div class="stars">
<img id="star-1" src="../../../../chrome/site/images/star-red-medium.gif" width="22px" height="22px" alt="Star"/>
<img id="star-2" src="../../../../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-3" src="../../../../chrome/site/images/star-red-small.gif" width="11px" height="11px" alt="Star"/>
<img id="star-4" src="../../../../chrome/site/images/star-orange-small.gif" width="16px" height="16px" alt="Star"/>
<img id="star-5" src="../../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-6" src="../../../../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-7" src="../../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-8" src="../../../../chrome/site/images/star-red-big.gif" width="33px" height="33px" alt="Star"/>
<img id="star-9" src="../../../../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-10" src="../../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-11" src="../../../../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-12" src="../../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
</div>
<div id="header">
<a href="../../../documentation.html"><img id="title" src="../../../../chrome/site/images/title.gif" width="256px" height="49px" alt="Rocket"/></a>
<ul class="top-level-nav">
<li><a href="../../../frontend/features.html">features.</a></li>

<li><a href="http://github.com/lloydw/librocket">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="../../../documentation.html">developer.</a></li>
</ul>
<img id="trail" src="../../../../chrome/site/images/trail-content.gif" width="72px" height="115px" alt="Rocket Trail"/>
<a href="../../../documentation.html"><img id="rocket" src="../../../../chrome/site/images/rocket-content.gif" width="126px" height="139px" alt="Rocket"/></a>
</div>
</div>
</div>
<div class="shell">
<div id="banner">
<div class="stars">
<img id="star-13" src="../../../../chrome/site/images/star-black-big.gif" width="49px" height="50px" alt="Star"/>
<img id="star-14" src="../../../../chrome/site/images/star-black-medium.gif" width="23px" height="23px" alt="Star"/>
<img id="star-15" src="../../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-16" src="../../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-17" src="../../../../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-18" src="../../../../chrome/site/images/star-black-tiny.gif" width="13px" height="13px" alt="Star"/>
<img id="star-19" src="../../../../chrome/site/images/star-black-tiny.gif" width="9px" height="9px" alt="Star"/>
<img id="star-20" src="../../../../chrome/site/images/star-black-tiny.gif" width="10px" height="10px" alt="Star"/>
<img id="star-21" src="../../../../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-22" src="../../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-23" src="../../../../chrome/site/images/star-black-small.gif" width="13px" height="13px" alt="Star"/>
</div>
<img id="banner-bottom-left" src="../../../../chrome/site/images/banner-bottom-left.gif" width="20px" height="19px" alt="Bottom left banner image"/>
<img id="banner-bottom-right" src="../../../../chrome/site/images/banner-bottom-right.gif" width="20px" height="19px" alt="Bottom right banner image"/>
<div id="login"><a href="http://librocket.com/login">Login</a> | <a "http://librocket.com/wiki/documentation/C%2B%2BManual/Controls/href">Register</a></div>
<div id="breadcrumbs">
<a href="../../../documentation.html">documentation</a> <strong>&#8249;</strong> <a href="http://librocket.com/wiki/documentation/C++Manual">C++Manual</a> <strong>&#8249;</strong> <a href="http://librocket.com/wiki/documentation/C++Manual/Controls">Controls</a> <strong>&#8249;</strong> <a href="http://librocket.com/wiki/documentation/C++Manual/Controls/Form">Form</a></div>
<div id="title"> Form</div>
<div id="second-level-nav">
<span class="nav-item active"><a href="../../../documentation.html">Documentation</a></span>
<span class="nav-item"><a accesskey="4" href="http://librocket.com/search">Search</a></span>
</div>
</div>
<div id="content-container">
<div id="content" class="wiki">
<table id="info" summary="Revision info"><tbody><tr>
<th scope="col">
Version 1 (modified by peterc, 10 years ago)
</th></tr><tr>
<td class="message">--</td>
</tr>
</tbody></table>
<div class="wikipage">
<div id="searchable"><p>
<div class="wiki-toc"><h4>Contents</h4><ol><li><a href="Form%3Fversion=1.html#Formcontrols">Form controls</a><ol><li><a href="Form%3Fversion=1.html#Formcontrolinterface">Form control interface</a><ol><li><a href="Form%3Fversion=1.html#Genericinputinterface">Generic input interface</a></li></ol><li><a href="Form%3Fversion=1.html#Textfield">Text field</a></li><li>
<a href="Form%3Fversion=1.html#Textarea">Text area</a></li><li>
<a href="Form%3Fversion=1.html#Radiobuttonandcheckbox">Radio button and checkbox</a></li><li>
<a href="Form%3Fversion=1.html#Drop-downselectbox">Drop-down select box</a><ol><li><a href="Form%3Fversion=1.html#Applyingproperties">Applying properties</a></li></ol><li><a href="Form%3Fversion=1.html#Data-drivendrop-downselectbox">Data-driven drop-down select box</a><ol><li><a href="Form%3Fversion=1.html#Applyingproperties1">Applying properties</a></li></ol><li><a href="Form%3Fversion=1.html#Rangeslider">Range slider</a><ol><li><a href="Form%3Fversion=1.html#Applyingproperties2">Applying properties</a></li></ol><li><a href="Form%3Fversion=1.html#Formcontainer">Form container</a></li><li>
<a href="Form%3Fversion=1.html#Formsubmitbutton">Form submit button</a></li></ol></li></ol></div>
</p>
<h1 id="Formcontrols">Form controls</h1>
<p>
The Controls plugin includes a fully-featured set of form controls. The full RML specification for these controls can be found <a class="wiki" href="../../RML/Forms.html">here</a>. The available form controls are:
</p>
<ul><li>text field
</li><li>password field
</li><li>multi-line text field
</li><li>radio button
</li><li>checkbox
</li><li>drop-down selection list
</li><li>data-driven drop-down selection list
</li><li>slider
</li></ul><p>
Below is the hierarchy for the custom form elements included in the Controls plugin.
<img src="../../../../attachment/wiki/documentation/C++Manual/Controls/Form/controls_form_1.gif%3Fformat=raw"/>
</p>
<h2 id="Formcontrolinterface">Form control interface</h2>
<p>
All form control elements are derived from the <i>Rocket::Controls::ElementFormControl</i> interface. Each form control has two values associated with it; <i>name</i> and <i>value</i>. The name is used to identify the control. The value specifies the current setting of the control; the exact definition of the value depends on the control. When a group of form controls is submitted, the names and values of the controls become the parameters of the submission.
</p>
<p>
The name of a form control can be retrieved and set using the <i>GetName()</i> and <i>SetName()</i> functions on <i>Rocket::Controls::ElementFormControl</i>.
</p>
<pre class="wiki">// Returns the name of the form control.
// @return The name of the form control.
EMP::Core::String GetName() const;

// Sets the name of the form control.
// @param[in] name The new name of the form control.
void SetName(const EMP::Core::String&amp; name);
</pre><p>
The value of a form control can be retrieved and set using the <i>GetValue()</i> and <i>SetValue()</i> functions.
</p>
<pre class="wiki">// Returns a string representation of the current value of the form control.
// @return The value of the form control.
EMP::Core::String GetValue() const;

// Sets the current value of the form control.
// @param[in] value The new value of the form control.
void SetValue(const EMP::Core::String&amp; value);
</pre><p>
The exact syntax of the value varies from control to control, but <i>GetValue()</i> will always return a value in a human-readable form.
</p>
<p>
Form controls can be enabled and disabled dynamically as well. All controls start enabled.
</p>
<pre class="wiki">// Returns the disabled status of the form control.
// @return True if the element is disabled, false otherwise.
bool IsDisabled() const;

// Sets the disabled status of the form control.
// @param[in] disabled True to disable the element, false to enable.
void SetDisabled(bool disable);
</pre><h3 id="Genericinputinterface">Generic input interface</h3>
<p>
Most of the form controls are instanced through the &lt;input&gt; tag, with the "type" attribute determining how they operate. The possible values for "type" are:
</p>
<ul><li><i>text</i>: A single-line text field. This is the default.
</li><li><i>password</i>: Similar to text, but renders asterisks for all characters.
</li><li><i>radio</i>: A radio button.
</li><li><i>checkbox</i>: A checkbox button.
</li><li><i>range</i>: A slider.
</li><li><i>submit</i>: An element with button-like behaviour for submitting its parent form.
</li></ul><p>
One interface is used to represent all such form controls regardless of their type. Their type can be changed even after they've been instanced.
</p>
<p>
However, because they do not have a unique interface, they have no helper functions for accessing their attributes like the other form controls. Their attributes have to be accessed and mutated using <i>GetAttribute()</i> and <i>SetAttribute()</i>.
</p>
<h2 id="Textfield">Text field</h2>
<p>
The single-line text field control is specified in RML by the &lt;input type="text" /&gt; tag. A password-style text field can be specified by the &lt;input type="password" /&gt; tag. The interface to both of these elements is the <i>Rocket::Controls::ElementFormControlInput</i> class.
</p>
<p>
The size of a text field refers of the average number of characters visible across the field. The value can be set with the "size" attribute.
</p>
<p>
The maximum number of characters allowed in a text field is set with the "maxlength" attribute.
</p>
<h2 id="Textarea">Text area</h2>
<p>
The text area, or multi-line text field, is specified in RML with the &lt;textarea&gt; tag. Any loose text between the text area's opening and closing tag will become the initial value of the control. The interface to the text area is the <i>Rocket::Controls::ElementFormControlTextArea</i> class.
</p>
<p>
The intrinsic dimensions of the text area is controlled by the "cols" and "rows" attributes, which dictate the number of characters visible horizontally and vertically. These values can also be set in C++ through the relevant methods.
</p>
<pre class="wiki">// Sets the number of characters visible across the text area.
// @param[in] size The number of visible characters.
void SetNumColumns(int num_columns);

// Returns the approximate number of characters visible at once.
// @return The number of visible characters.
int GetNumColumns() const;

// Sets the number of visible lines of text in the text area.
// @param[in] num_rows The new number of visible lines of text.
void SetNumRows(int num_rows);

// Returns the number of visible lines of text in the text area.
// @return The number of visible lines of text.
int GetNumRows() const;
</pre><p>
Similarly to the single-line text field, the maximum number of characters in the text area can be limited with the "maxlength" attribute. It can be accessed in C++ using the <i>GetMaxLength()</i> function and changed with the <i>SetMaxLength()</i> function.
</p>
<pre class="wiki">// Sets the maximum length (in characters) of this text area.
// @param[in] max_length The new maximum length of the text area. A number lower than zero will mean infinite characters.
void SetMaxLength(int max_length);

// Returns the maximum length (in characters) of this text area.
// @return The maximum number of characters allowed in this text area.
int GetMaxLength() const;
</pre><p>
The word-wrapping state of the text area is set with the "wrap" attribute in RML. It can be changed in C++ with the <i>GetWordWrap()</i> and <i>SetWordWrap()</i> functions.
</p>
<pre class="wiki">// Enables or disables word-wrapping in the text area.
// @param[in] word_wrap True to enable word-wrapping, false to disable.
void SetWordWrap(bool word_wrap);

// Returns the state of word-wrapping in the text area.
// @return True if the text area is word-wrapping, false otherwise.
bool GetWordWrap();
</pre><h2 id="Radiobuttonandcheckbox">Radio button and checkbox</h2>
<p>
The radio button (&lt;input type="radio" /&gt;) and checkbox (&lt;input type="checkbox" /&gt;) are two similar types of form control. Both only submit their value if they are checked. The radio button will, when checked, uncheck all other radio buttons with the same name. The interface for both controls is <i>Rocket::Controls::ElementFormControlInput</i>.
</p>
<p>
The checked status of a checkbox or radio button defaults to false, but can be initialised to true with the "checked" attribute. To uncheck a checkbox, remove the "checked" attribute with <i>RemoveAttribute()</i>.
</p>
<h2 id="Drop-downselectbox">Drop-down select box</h2>
<p>
The simple drop-down select control is specified in RML with the &lt;select&gt; tag. Individual options within the select box are specified with child &lt;option&gt; elements. The value of the select control is set to the value attribute of the currently selected option. The following RML fragment declares a select box:
</p>
<pre class="wiki">&lt;select name="graphics"&gt;
	&lt;option value="bad"&gt;Bad&lt;/option&gt;
	&lt;option value="ok"&gt;OK&lt;/option&gt;
	&lt;option value="good" selected&gt;good&lt;/option&gt;
&lt;/select&gt;
</pre><p>
The select control's interface is the <i>Rocket::Controls::ElementFormControlSelect</i> class. The total number of options in the select box can be queried with the <i>GetNumOptions()</i> method.
</p>
<pre class="wiki">// Returns the number of options in the select control.
// @return The number of options.
int GetNumOptions() const;
</pre><p>
Individual options can be accessed with the <i>GetOption()</i> method.
</p>
<pre class="wiki">// Returns one of the select control's option elements.
// @param[in] The index of the desired option element.
// @return The option element at the given index. This will be NULL if the index is out of bounds.
Rocket::Controls::SelectOption* GetOption(int index);
</pre><p>
GetOption() returns a <i>Rocket::Controls::SelectOption</i> structure, from which you can access the value of the option and the element hierarchy used to render it in the drop-down box.
</p>
<p>
The selected option can be accessed with the <i>GetSelection()</i> function and set with the <i>SetSelection()</i> function.
</p>
<pre class="wiki">// Sets the index of the selection. If the new index lies outside of the bounds, it will be clamped.
// @param[in] selection The new selection index.
void SetSelection(int selection);

// Returns the index of the currently selected item.
// @return The index of the currently selected item.
int GetSelection() const;
</pre><p>
Options can be procedurally added and removed with the <i>Add()</i> and <i>Remove()</i> functions.
</p>
<pre class="wiki">// Adds a new option to the select control.
// @param[in] rml The RML content used to represent the option.
// @param[in] value The value of the option.
// @param[in] before The index of the element to insert the new option before. If out of bounds the new option will be added at the end of the list.
// @return The index of the new option.
int Add(const EMP::Core::String&amp; rml,
        const EMP::Core::String&amp; value,
        int before = -1);

// Removes an option from the select control.
// @param[in] index The index of the option to remove. If this is outside of the bounds of the control's option list, no option will be removed.
void Remove(int index);
</pre><h2 id="Data-drivendrop-downselectbox">Data-driven drop-down select box</h2>
<p>
The data-driven drop-down select control is specified in RML with the &lt;dataselect&gt; tag. No options are specified within the tag; instead, they are populated from an <i>EMP::Core::DataSource</i> object, similarly to a <a class="wiki" href="DataGrid.html">data grid</a>.
</p>
<p>
The select control's interface is the <i>Rocket::Controls::ElementFormControlDataSelect</i> class. It derives from <i>Rocket::Controls::ElementFormControlSelect</i>. The data select's data source is set with the "source" attribute, and can be changed in C++ through the <i>SetDataSource()</i> method:
</p>
<pre class="wiki">// Sets the data source the control's options are driven from.
// @param[in] data_source The name of the new data source.
void SetDataSource(const EMP::Core::String&amp; data_source);
</pre><h2 id="Rangeslider">Range slider</h2>
<p>
The range control can be used to render a slider-based number field. It is specified in RML with the tag &lt;input type='range' /&gt;. The range control's interface is the <i>Rocket::Controls::ElementFormControlInput</i> class.
</p>
<p>
The minimum and maximum values for the range are specified with the "min" and "max" attributes. The <i>step</i> of the range, or increments in which the value can be increased or decreased, is specified with the "step" attribute.
</p>
<h3 id="Applyingproperties">Applying properties</h3>
<p>
The range control generates <a class="wiki" href="../HiddenElements.html">hidden elements</a> similarly to the <a class="wiki" href="../Scrollbars.html">scrollbars</a>. The elements it generates are:
</p>
<ul><li><i>sliderarrowdec</i>
</li><li><i>sliderarrowinc</i>
</li><li><i>slidertrack</i>
</li><li><i>sliderbar</i>
</li></ul><p>
See the documentation on <a class="wiki" href="../Scrollbars.html#ApplyingRCSSproperties">configuring scrollbars</a> for more information on controlling the size and decoration of the elements of the range control.
</p>
<h2 id="Formcontainer">Form container</h2>
<p>
The form element is designed as a container element for form controls. Forms can be submitted, which bundles the name and value pairs of all descendant form controls into a single event. The form element is specified in RML with the &lt;form&gt; tag. It will generate a "submit" event when it is submitted; therefore it is usual to provide an inline event handler for "onsubmit".
</p>
<p>
The form element's interface is the <i>Rocket::Controls::ElementForm</i> class. The form can be submitted by calling the <i>Submit()</i> function.
</p>
<pre class="wiki">// Submits the form.
// @param[in] submit_value The value to send through as the 'submit' parameter.
void Submit(const EMP::Core::String&amp; submit_value = "");
</pre><p>
The value of the <i>submit_value</i> parameter will become the value of the <i>submit</i> parameter on the submit event. This way, objects listening for event can distinguish between different kinds of submit actions.
</p>
<h2 id="Formsubmitbutton">Form submit button</h2>
<p>
The form submit button is specified in RML with the &lt;input type="submit" /&gt; tag. The submit button will trigger a submit on its ancestor form when it is clicked, with a submit value equal to its "value" attribute. Its interface is the class <i>Rocket::Controls::ElementFormControlInput</i>.
</p>
</div>
</div>
<script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"), "Link to this section");
  </script>
</div>
</div>
</div>
<div id="footer">
<a id="tracpowered" href="http://trac.edgewall.org/">
<img src="../../../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered"/>
</a>
<p class="left">
Powered by <a href="http://librocket.com/about"><strong>Trac </strong></a><br/>By <a href="http://www.edgewall.org/">Edgewall Software</a>.
</p>
<p id="copyright" class="left clear">
Copyright &copy; 2007-2010 Code Point Ltd, Shift Technology Ltd.
</p>
<ul class="top-level-nav">
<li><a href="../../../frontend/features.html">features.</a></li>
<li><a "http://librocket.com/wiki/documentation/C%2B%2BManual/Controls/href">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="../../../documentation.html">developer.</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-3379591-1");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>
</body>
</html>
