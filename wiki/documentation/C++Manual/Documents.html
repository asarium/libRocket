
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title> Documents - libRocket</title>
<link rel="start" href="http://librocket.com/wiki"/><link rel="search" href="http://librocket.com/search"/><link rel="help" href="../../TracGuide.html"/><link rel="stylesheet" href="../../../chrome/common/css/trac.css" type="text/css"/><link rel="stylesheet" href="../../../chrome/common/css/wiki.css" type="text/css"/><link rel="icon" href="../../../chrome/site/trac.ico" type="image/x-icon"/><link rel="shortcut icon" href="../../../chrome/site/trac.ico" type="image/x-icon"/><link rel="alternate" href="Documents%3Fformat=txt" title="Plain Text" type="text/x-trac-wiki"/><style type="text/css">
</style>
<script type="text/javascript" src="../../../chrome/common/js/trac.js"></script>
<link rel="stylesheet" type="text/css" href="../../../chrome/site/style/base.css"></link>
<link rel="stylesheet" type="text/css" href="../../../chrome/site/style/content.css"></link>
<link rel="stylesheet" type="text/css" href="../../../chrome/site/style/discussion.css"></link>
<style>
		div.wiki img
		{
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
	</style>
</head>
<body>
<div class="widthshell-width">
<div class="widthshell-minwidth">
<div class="widthshell-layout">
<div class="widthshell-container">
<div class="widthshell-content">
<div id="background">
<div style="float:right;width:160px;height:600px;margin-top:110px;margin-right:20px;">
<script type="text/javascript"><!--
                        google_ad_client = "pub-5872045433470541";
                        /* Default, Wide Skyscraper */
                        google_ad_slot = "3956485030";
                        google_ad_width = 160;
                        google_ad_height = 600;
                //-->
                </script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script>
</div>
<div class="shell">
<div class="stars">
<img id="star-1" src="../../../chrome/site/images/star-red-medium.gif" width="22px" height="22px" alt="Star"/>
<img id="star-2" src="../../../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-3" src="../../../chrome/site/images/star-red-small.gif" width="11px" height="11px" alt="Star"/>
<img id="star-4" src="../../../chrome/site/images/star-orange-small.gif" width="16px" height="16px" alt="Star"/>
<img id="star-5" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-6" src="../../../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-7" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-8" src="../../../chrome/site/images/star-red-big.gif" width="33px" height="33px" alt="Star"/>
<img id="star-9" src="../../../chrome/site/images/star-red-small.gif" width="13px" height="13px" alt="Star"/>
<img id="star-10" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
<img id="star-11" src="../../../chrome/site/images/star-red-tiny.gif" width="8px" height="7px" alt="Star"/>
<img id="star-12" src="../../../chrome/site/images/star-red-tiny.gif" width="7px" height="6px" alt="Star"/>
</div>
<div id="header">
<a href="../../documentation.html"><img id="title" src="../../../chrome/site/images/title.gif" width="256px" height="49px" alt="Rocket"/></a>
<ul class="top-level-nav">
<li><a href="../../frontend/features.html">features.</a></li>

<li><a href="http://github.com/lloydw/librocket">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="../../documentation.html">developer.</a></li>
</ul>
<img id="trail" src="../../../chrome/site/images/trail-content.gif" width="72px" height="115px" alt="Rocket Trail"/>
<a href="../../documentation.html"><img id="rocket" src="../../../chrome/site/images/rocket-content.gif" width="126px" height="139px" alt="Rocket"/></a>
</div>
</div>
</div>
<div class="shell">
<div id="banner">
<div class="stars">
<img id="star-13" src="../../../chrome/site/images/star-black-big.gif" width="49px" height="50px" alt="Star"/>
<img id="star-14" src="../../../chrome/site/images/star-black-medium.gif" width="23px" height="23px" alt="Star"/>
<img id="star-15" src="../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-16" src="../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-17" src="../../../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-18" src="../../../chrome/site/images/star-black-tiny.gif" width="13px" height="13px" alt="Star"/>
<img id="star-19" src="../../../chrome/site/images/star-black-tiny.gif" width="9px" height="9px" alt="Star"/>
<img id="star-20" src="../../../chrome/site/images/star-black-tiny.gif" width="10px" height="10px" alt="Star"/>
<img id="star-21" src="../../../chrome/site/images/star-black-medium.gif" width="21px" height="21px" alt="Star"/>
<img id="star-22" src="../../../chrome/site/images/star-black-small.gif" width="14px" height="14px" alt="Star"/>
<img id="star-23" src="../../../chrome/site/images/star-black-small.gif" width="13px" height="13px" alt="Star"/>
</div>
<img id="banner-bottom-left" src="../../../chrome/site/images/banner-bottom-left.gif" width="20px" height="19px" alt="Bottom left banner image"/>
<img id="banner-bottom-right" src="../../../chrome/site/images/banner-bottom-right.gif" width="20px" height="19px" alt="Bottom right banner image"/>
<div id="login"><a href="http://librocket.com/login">Login</a> | <a "http://librocket.com/wiki/documentation/C%2B%2BManual/href">Register</a></div>
<div id="breadcrumbs">
<a href="../../documentation.html">documentation</a> <strong>&#8249;</strong> <a href="http://librocket.com/wiki/documentation/C++Manual">C++Manual</a> <strong>&#8249;</strong> <a href="http://librocket.com/wiki/documentation/C++Manual/Documents">Documents</a></div>
<div id="title"> Documents</div>
<div id="second-level-nav">
<span class="nav-item active"><a href="../../documentation.html">Documentation</a></span>
<span class="nav-item"><a accesskey="4" href="http://librocket.com/search">Search</a></span>
</div>
</div>
<div id="content-container">
<div id="content" class="wiki">
<div class="wikipage">
<div id="searchable"><p>
<div class="wiki-toc"><h4>Contents</h4><ol><li><a href="Documents.html#Documents">Documents</a><ol><li><a href="Documents.html#Identification">Identification</a></li><li>
<a href="Documents.html#Documentsandcontexts">Documents and contexts</a><ol><li><a href="Documents.html#Layering">Layering</a></li><li>
<a href="Documents.html#Layeringandthemouse">Layering and the mouse</a></li></ol><li><a href="Documents.html#Visibility">Visibility</a></li><li>
<a href="Documents.html#Closing">Closing</a></li><li>
<a href="Documents.html#Creatingnewelements">Creating new elements</a></li><li>
<a href="Documents.html#Customdocuments">Custom documents</a></li></ol></li></ol></div>
</p>
<h1 id="Documents">Documents</h1>
<p>
Documents are container elements. They are designed to represent a single 'window' within your application's interface. Documents are elements themselves, and the elements they contain directly are parented to them.
</p>
<h2 id="Identification">Identification</h2>
<p>
Documents have a title, defined in RML by contents of the &lt;title&gt; tag within the document header. By default the title does not do anything, but can be used to populate the contents of a title bar (as in the Rocket Invaders from Mars demo). The function <i>GetTitle()</i> will return the document's title, <i>SetTitle()</i> will set it.
</p>
<pre class="wiki">// Sets the document's title.
// @param[in] title The new title of the document.
void SetTitle(EMP::Core::String&amp; title);

// Returns the title of this document.
// @return The document's title.
const EMP::Core::String&amp; GetTitle() const;
</pre><p>
If a document was loaded from an RML file, the function <i>GetSourceURL()</i> will return the path of the source RML.
</p>
<pre class="wiki">// Returns the source address of this document.
// @return The source of this document, usually a file name.
const EMP::Core::String&amp; GetSourceURL() const;
</pre><h2 id="Documentsandcontexts">Documents and contexts</h2>
<p>
Every document is part of a single context. The documents within a context are layered similarly to windows on a desktop. Document layering can be controlled through user input (ie, when a document is clicked on, by default it is raised to the top), programatically or through the 'z-index' property.
</p>
<p>
The function <i>GetContext()</i> will return the document's context.
</p>
<pre class="wiki">// Returns the document's context.
// @return The context this document exists within.
Rocket::Core::Context* GetContext();
</pre><h3 id="Layering">Layering</h3>
<p>
The 'z-index' property of a document controls the rendering order similarly to elements. A document with a higher z-index will always be rendered on top of a document with a lower z-index. As well as integer values, you can use the z-index values of 'top' and 'bottom' to force a document to always be at the top or bottom of the document stack. Documents start with a default z-index of 0.
</p>
<p>
The functions <i>PullToFront()</i> and <i>PushToBack()</i> will move the document to the front and back of the document stack among documents with a similar z-index. For example, calling <i>PullToFront()</i> on a document with a z-index of 1 will force all documents with a z-index lower than 1, and all other documents with a z-index of 1, to be rendered before it. However, documents with a higher z-index will still be rendered after it.
</p>
<pre class="wiki">// Brings the document to the front of the document stack.
void PullToFront();

// Sends the document to the back of the document stack.
void PushToBack();
</pre><p>
Pulling and pushing documents only affects the document stack at the moment it is called. If further documents are loaded, or other documents are pushed and pulled, the document stack will change.
</p>
<h3 id="Layeringandthemouse">Layering and the mouse</h3>
<p>
By default, if the primary mouse button is pressed while hovering over a document, that document will be brought to the front of the document stack (similarly to a <i>PullToFront()</i> call). If a document has any 'z-index' value other than the default of 'auto', this behaviour will not occur.
</p>
<h2 id="Visibility">Visibility</h2>
<p>
When a document is loaded into a context, it begins hidden (it has a 'visibility' value of 'hidden'). To show a document, use the <i>Show()</i> function:
</p>
<pre class="wiki">// Show the document.
// @param[in] focus_flags Flags controlling the changing of focus. Leave as FOCUS to switch focus to the document.
void Show(int focus_flags = Rocket::Core::Document::FOCUS);
</pre><p>
By default, the Show() function will make the document visible and switch keyboard focus to the document. Possible values of the focus_flags parameter are:
</p>
<ul><li><i>Rocket::Core::ElementDocument::NONE</i>: The document will not steal focus, but will still be made visible.
</li><li><i>Rocket::Core::ElementDocument::FOCUS</i>: The default; the document will steal focus if possible.
</li><li><i>Rocket::Core::ElementDocument::MODAL</i>: The document will steal focus and prevent other documents from taking focus away until another Show() is called on the document without <i>Rocket::Core::Document::MODAL</i>.
</li></ul><p>
To hide a document, call <i>Hide()</i>.
</p>
<pre class="wiki">// Hide the document.
void Hide();
</pre><h2 id="Closing">Closing</h2>
<p>
Calling <i>Close()</i> on a document will remove the document from its context and destroy it and all of its elements.
</p>
<pre class="wiki">// Close the document.
void Close();
</pre><h2 id="Creatingnewelements">Creating new elements</h2>
<p>
Similarly to HTML documents, Rocket documents are capable of creating new elements and text nodes. You can use the <i>CreateElement()</i> function to create a new element of a certain type:
</p>
<pre class="wiki">// Creates the named element.
// @param[in] name The tag name of the element.
Rocket::Core::Element* CreateElement(const EMP::Core::String&amp; name);
</pre><p>
The name parameter is the desired tag name of the new element. Note that as you cannot specify an independent instancer name or RML attributes to pass to the instancer, this method is not as flexible as creating an element through the factory, but is useful for easily creating simple elements.
</p>
<p>
Call <i>CreateTextNode()</i> to create a new text element with a given text string:
</p>
<pre class="wiki">// Create a text element with the given text content.
// @param[in] text The text content of the text element.
Rocket::Core::ElementText* CreateTextNode(const EMP::Core::String&amp; text);
</pre><p>
The text parameter will be interpreted as a UTF-8 encoded string and converted to a UCS-2 string inside the text node. The element returned will be derived from <i>Rocket::Core::ElementText</i>.
</p>
<p>
Note that neither of these functions actually attaches the new element to the document in any way.
</p>
<h2 id="Customdocuments">Custom documents</h2>
<p>
All documents are instanced like normal elements from the 'body' tag. The process for creating a custom document type is identical to that for <a class="wiki" href="Elements.html#Customelements">creating a custom element</a>, except you should derive from <i>Rocket::Core::ElementDocument</i> instead of <i>Rocket::Core::Element</i>, and only register the element instancer against the 'body' tag.
</p>
<p>
If you register an instancer for the 'body' tag that returns an element not derived from <i>Rocket::Core::ElementDocument</i>, documents will fail to load.
</p>
<p>
There is one virtual function that is particular to <i>Rocket::Core::ElementDocument</i>:
</p>
<pre class="wiki">// Load a script into the document.
// @param[in] stream Stream of code to process.
// @param[in] source_name Name of the the script the source comes from, useful for debug information.
virtual void LoadScript(EMP::Core::Stream* stream, const EMP::Core::String&amp; source_name);
</pre><p>
<i>LoadScript()</i> is generally only used to integrate a scripting language into Rocket. It is called on a document for every &lt;script&gt; tag with the script content. The default implementation does nothing; custom documents can do whatever they need to here to load, compile and bind the scripts for their elements.
</p>
</div>
</div>
<script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"), "Link to this section");
  </script>
</div>
</div>
</div>
<div id="footer">
<a id="tracpowered" href="http://trac.edgewall.org/">
<img src="../../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered"/>
</a>
<p class="left">
Powered by <a href="http://librocket.com/about"><strong>Trac </strong></a><br/>By <a href="http://www.edgewall.org/">Edgewall Software</a>.
</p>
<p id="copyright" class="left clear">
Copyright &copy; 2007-2010 Code Point Ltd, Shift Technology Ltd.
</p>
<ul class="top-level-nav">
<li><a href="../../frontend/features.html">features.</a></li>
<li><a "http://librocket.com/wiki/documentation/C%2B%2BManual/href">download.</a></li>
<li><a href="http://forums.librocket.com">forums.</a></li>
<li><a href="../../documentation.html">developer.</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-3379591-1");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>
</body>
</html>
